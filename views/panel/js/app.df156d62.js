(function(e){function t(t){for(var a,r,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},n={app:0},i=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"05b9":function(e,t,s){},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},2:function(e,t){},2136:function(e,t,s){"use strict";s("05b9")},3:function(e,t){},4:function(e,t){},"452c":function(e,t,s){},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id="4678"},"48f4":function(e,t,s){"use strict";s("c841")},5:function(e,t){},"509a":function(e,t,s){},5482:function(e,t,s){"use strict";s("509a")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],r=s("bc3a"),o=s.n(r),c="https://effervescent-cassata-65a1db.netlify.app/api",l=o.a.create({baseURL:c,timeout:15e5}),u=l,d={created:function(){var e=this.$cookie.get("token");e&&(u.defaults.headers.common["Authorization"]="Bearer ".concat(e))}},f=d,p=(s("5c0b"),s("b0a0"),s("2877")),m=Object(p["a"])(f,n,i,!1,null,null,null),b=m.exports,g=s("8c4f"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"hero is-fullheight",staticStyle:{"background-image":"url('./img/fondo.png')"}},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[e._m(0),s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-one-third"},[s("div",{staticClass:"sombra"},[s("b-input",{ref:"username",attrs:{placeholder:" Email",size:"is-large",type:"email"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("b-input",{attrs:{placeholder:" Password",size:"is-large",type:"password","password-reveal":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("div",{staticClass:"boton"},[s("b-button",{staticClass:"is-tplanet is-uppercase is-size-6 has-text-weight-bold button-style",attrs:{id:"btn",size:"is-large"},on:{click:e.login}},[e._v("Login")])],1)])])])]),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},v=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-multiline is-centered"},[s("div",{staticClass:"column is-narrow"},[s("figure",{staticClass:"figure-container"},[s("img",{staticClass:"logo",attrs:{src:"img/logo.png"}})])])])}],j=(s("b0c0"),{data:function(){return{username:"",password:"",isLoading:!1,isFullPage:!0}},created:function(){},mounted:function(){this.$refs.username.focus()},methods:{login:function(){var e=this;this.isLoading=!0,u.post("/users/login",{username:this.username,password:this.password}).then((function(t){var s=t.data;e.isLoading=!1,e.$cookie.set("token",s.token),u.defaults.headers.common["Authorization"]="Bearer ".concat(s.token),e.setCookies(s.user),e.$router.push({path:"/admins"})})).catch((function(t){console.log(t),e.isLoading=!1,e.$buefy.toast.open({message:"Login failed, try again",position:"is-top",type:"is-danger"})}))},goResetPassword:function(){this.$router.push({path:"/reset-password"})},setCookies:function(e){var t=e.name,s=e.username,a=e.role,n=e._id;this.$cookie.set("name",t),this.$cookie.set("username",s),this.$cookie.set("rol",a),this.$cookie.set("userId",n)}}}),w=j,k=(s("5482"),Object(p["a"])(w,h,v,!1,null,"5644f83c",null)),y=k.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"hero is-fullheight",staticStyle:{"background-image":"url('./img/fondo.png')"}},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-narrow"},[s("div",{staticClass:"card contenedor sombra"},[s("div",{staticClass:"card-content"},[e._m(0),e._m(1),s("div",{staticClass:"i-email"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input input-style",attrs:{type:"email",placeholder:"Email",size:"is-large"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),s("div",{staticClass:"boton"},[s("b-button",{staticClass:"is-tplanet is-size-6 has-text-weight-bold",attrs:{rounded:"",expanded:"",size:"is-large"},on:{click:e.sendEmail}},[e._v("RESTORE PASSWORD")])],1),s("div",{staticClass:"foot"},[s("div",{staticClass:"has-text-centered is-size-6"},[s("a",{on:{click:e.goHome}},[s("b-icon",{staticClass:"icons",attrs:{pack:"fas",icon:"arrow-left",size:"is-small",type:"is-purple"}}),e._v("Go back ")],1)])])])])])]),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},x=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("figure",{staticClass:"logo-content"},[s("img",{staticClass:"logo",attrs:{src:"img/logo.png"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text"},[s("p",{staticClass:"has-text-centered has-text-weight-semibold"},[e._v(" Please, enter your email to recover "),s("br"),e._v("the password: ")])])}],P=s("1da1"),_=(s("96cf"),{data:function(){return{email:"",isLoading:!1,isFullPage:!0}},methods:{goHome:function(){this.$router.push({path:"/login"})},sendEmail:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,u.post("/users/reset",{email:e.email});case 4:e.isLoading=!1,e.email="",e.$buefy.toast.open({message:"Password sent, check your email",position:"is-top",type:"is-success"}),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0),e.isLoading=!1,e.$buefy.toast.open({message:"Error sending email, try again",position:"is-top",type:"is-danger"});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}}),L=_,z=(s("48f4"),Object(p["a"])(L,C,x,!1,null,"71f1bec0",null)),E=z.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{staticClass:"section"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-11"},[e._m(0),s("b-tabs",{attrs:{type:"is-boxed",position:"is-centered"},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[s("b-tab-item",{attrs:{label:"Lista","icon-pack":"fas",icon:"align-left"}},[s("div",{staticClass:"card contenedor sombra"},[s("b-table",{staticClass:"table is-striped",attrs:{data:e.dataPaginate,paginated:e.isPaginated,"per-page":e.perPageCourses,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection,"default-sort":"created","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[s("b-table-column",{attrs:{sortable:"",field:"name",label:"Nombre"}},[e._v(e._s(t.row.name))]),s("b-table-column",{attrs:{sortable:"",field:"username",label:"Usuario"}},[e._v(e._s(t.row.username))]),s("b-table-column",{attrs:{field:"createdAt",label:"Creación"}},[s("b-tag",{attrs:{type:"is-info"}},[e._v(e._s(t.row.createdAt?e.msToDate(t.row.createdAt):"N/A"))])],1),s("b-table-column",{attrs:{field:"events",label:"Acciones",centered:""}},[s("a",{staticClass:"btn-events",on:{click:function(s){return e.beforeDeleteUser(t.row._id,t.row.name)}}},[s("b-icon",{attrs:{pack:"fas",type:"is-danger",icon:"trash-alt",size:"is-small"}})],1)])]}}])},[s("template",{slot:"empty"},[s("section",{staticClass:"section-white"},[s("div",{staticClass:"content has-text-centered"},[s("p",[s("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),s("p",[e._v("Empty list")])])])])],2)],1)]),s("b-tab-item",{attrs:{label:e.isEdit?"Edit":"Crear","icon-pack":"fas",icon:e.isEdit?"edit":"pen-alt"}},[s("div",{staticClass:"card container-create sombra"},[s("div",{staticClass:"card-content"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-6"},[s("b-field",{attrs:{label:"Nombre:","label-position":e.labelPosition}},[s("b-input",{attrs:{placeholder:"Jose"},model:{value:e.newUser.name,callback:function(t){e.$set(e.newUser,"name",t)},expression:"newUser.name"}})],1),s("b-field",{attrs:{label:"Password","label-position":e.labelPosition}},[s("b-input",{attrs:{type:"password",minlength:"5",placeholder:"123456","password-reveal":""},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1)],1),s("div",{staticClass:"column is-6"},[s("b-field",{attrs:{label:"Usuario:","label-position":e.labelPosition}},[s("b-input",{attrs:{placeholder:"jose1"},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}})],1)],1)]),s("hr"),s("div",{staticClass:"new-button-section"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-narrow"},[e.isEdit?s("b-button",{staticClass:"has-text-weight-bold",attrs:{rounded:"",type:"is-danger","icon-pack":"fas","icon-left":"arrow-left"},on:{click:function(t){return e.goBack()}}},[e._v("Go Back")]):e._e()],1),s("div",{staticClass:"column is-narrow"},[s("b-button",{staticClass:"has-text-weight-bold",attrs:{expanded:"",rounded:"",type:"is-success","icon-pack":"fas","icon-left":"check"},on:{click:function(t){e.isEdit?e.updateUser():e.createUser()}}},[e._v("Crear")])],1)])])])])])],1)],1)])]),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},U=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"encabezado"},[s("h1",{staticClass:"is-size-5 has-text-weight-bold has-text-info is-uppercase"},[e._v(" Administradores ")])])}],O=(s("4d63"),s("ac1f"),s("25f0"),s("4de4"),s("5873")),D={components:{VueEditor:O["a"]},data:function(){return{isLoading:!1,isFullPage:!0,labelPosition:"on-border",users:[],idToEdit:null,isEdit:!1,tabs:0,newUser:{name:"",username:"",password:""},dataPaginate:[],findCourse:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"desc",currentPage:1,perPageCourses:5,currentPageRequirements:1,perPageRequirements:5,currentPageLearnings:1,perPageLearnings:5,imgDefault:"img/default-img.png",urlprod:"https://effervescent-cassata-65a1db.netlify.app/api"}},methods:{msToDate:function(e){var t=new Date(e);return t.toLocaleString()},createUser:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,u.post("/users/create",e.newUser);case 4:return e.$buefy.toast.open({message:"Usuario creado con éxito",position:"is-top",type:"is-success"}),t.next=7,e.clearUser(!0);case 7:e.isLoading=!1,t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),e.isLoading=!1,e.$buefy.toast.open({message:"Error al crear usuario",position:"is-top",type:"is-danger"});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},listUsers:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,u.post("/users/list",{});case 4:s=t.sent,a=s.data,e.users=a.user,e.dataPaginate=a.user,e.isLoading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.isLoading=!1,e.$buefy.toast.open({message:"Error al obtener lista de Administradores",position:"is-top",type:"is-danger"});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))()},beforeDeleteUser:function(e,t){var s=this;return Object(P["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s.$buefy.dialog.confirm({title:"Eliminar usuario",message:"¿Quieres <b>eliminar</b> el usuario: ".concat(t,"?"),confirmText:"ELIMINAR",type:"is-danger",hasIcon:!0,onConfirm:function(){return s.deleteUser(e)}});case 1:case"end":return a.stop()}}),a)})))()},deleteUser:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isLoading=!0,s.next=4,u.delete("/users/".concat(e));case 4:return s.next=6,t.clearUser(!0);case 6:t.isLoading=!1,s.next=14;break;case 9:s.prev=9,s.t0=s["catch"](0),console.log(s.t0),t.isLoading=!1,t.$buefy.toast.open({message:"Error al eliminar usuario",position:"is-top",type:"is-danger"});case 14:case"end":return s.stop()}}),s,null,[[0,9]])})))()},clearUser:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.newUser.name="",t.newUser.username="",t.newUser.password="",e&&(t.tabs=0),s.next=6,t.listUsers();case 6:case"end":return s.stop()}}),s)})))()},find:function(){this.findCourse&&""!=this.findCourse||(this.dataPaginate=this.users),this.dataPaginate=[];var e=new RegExp(this.findCourse.toLowerCase()),t=this.users.filter((function(t){return e.test(t.title.toLowerCase())}));this.dataPaginate=t},replaceByDefault:function(e){e.target.src=this.imgDefault}},created:function(){this.listUsers()}},R=D,A=(s("cfcd"),Object(p["a"])(R,$,U,!1,null,"20816308",null)),S=A.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("section",{staticClass:"section"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-11"},[e._m(0),s("b-tabs",{attrs:{type:"is-boxed",position:"is-centered"},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[s("b-tab-item",{attrs:{label:"Lista","icon-pack":"fas",icon:"align-left"}},[s("div",{staticClass:"card contenedor sombra"},[s("b-table",{staticClass:"table is-striped",attrs:{data:e.dataPaginate,paginated:e.isPaginated,"per-page":e.perPageCourses,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection,"default-sort":"created","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[s("b-table-column",{attrs:{sortable:"",field:"name",label:"Nombre"}},[e._v(e._s(t.row.name))]),s("b-table-column",{attrs:{sortable:"",field:"lastname1",label:"A. Paterno"}},[e._v(e._s(t.row.lastname1))]),s("b-table-column",{attrs:{sortable:"",field:"district",label:"Distrito"}},[e._v(e._s(t.row.district))]),s("b-table-column",{attrs:{sortable:"",field:"town",label:"Ciudad"}},[e._v(e._s(t.row.town))]),s("b-table-column",{attrs:{field:"shared",label:"¿Compartió?",centered:""}},[s("b-tag",{attrs:{type:t.row.sharedLink?"is-success":"is-danger"}},[e._v(e._s(t.row.sharedLink?"SI":"NO"))])],1),s("b-table-column",{attrs:{field:"createdAt",label:"Creación"}},[s("b-tag",{attrs:{type:"is-info"}},[e._v(e._s(t.row.createdAt?e.msToDate(t.row.createdAt):"N/A"))])],1),s("b-table-column",{attrs:{field:"events",label:"Acciones",centered:""}},[s("a",{staticClass:"btn-events",on:{click:function(s){return e.moreInfo(t.row)}}},[s("b-icon",{attrs:{pack:"fas",type:"is-info",icon:"eye",size:"is-small"}})],1)])]}}])},[s("template",{slot:"empty"},[s("section",{staticClass:"section-white"},[s("div",{staticClass:"content has-text-centered"},[s("p",[s("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),s("p",[e._v("Empty list")])])])])],2)],1)])],1)],1)])]),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},T=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"encabezado"},[s("h1",{staticClass:"is-size-5 has-text-weight-bold has-text-info is-uppercase"},[e._v(" Usuarios ")])])}],M=s("5530"),N=(s("99af"),{components:{VueEditor:O["a"]},data:function(){return{isLoading:!1,isFullPage:!0,labelPosition:"on-border",users:[],idToEdit:null,isEdit:!1,tabs:0,newUser:{name:"",username:"",password:""},dataPaginate:[],findCourse:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"desc",currentPage:1,perPageCourses:5,currentPageRequirements:1,perPageRequirements:5,currentPageLearnings:1,perPageLearnings:5,imgDefault:"img/default-img.png",urlprod:"https://effervescent-cassata-65a1db.netlify.app/api"}},methods:{msToDate:function(e){var t=new Date(e);return t.toLocaleString()},listUsers:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,u.post("/persons/list",{});case 4:s=t.sent,a=s.data,e.users=a.person,e.dataPaginate=a.person,e.isLoading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.isLoading=!1,e.$buefy.toast.open({message:"Error al obtener lista de Usuarios",position:"is-top",type:"is-danger"});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))()},beforeDeleteUser:function(e,t){var s=this;return Object(P["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s.$buefy.dialog.confirm({title:"Eliminar usuario",message:"¿Quieres <b>eliminar</b> el usuario: ".concat(t,"?"),confirmText:"ELIMINAR",type:"is-danger",hasIcon:!0,onConfirm:function(){return s.deleteUser(e)}});case 1:case"end":return a.stop()}}),a)})))()},deleteUser:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isLoading=!0,s.next=4,u.delete("/users/".concat(e));case 4:return s.next=6,t.clearUser(!0);case 6:t.isLoading=!1,s.next=14;break;case 9:s.prev=9,s.t0=s["catch"](0),console.log(s.t0),t.isLoading=!1,t.$buefy.toast.open({message:"Error al eliminar usuario",position:"is-top",type:"is-danger"});case 14:case"end":return s.stop()}}),s,null,[[0,9]])})))()},clearUser:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.newUser.name="",t.newUser.username="",t.newUser.password="",e&&(t.tabs=0),s.next=6,t.listUsers();case 6:case"end":return s.stop()}}),s)})))()},find:function(){this.findCourse&&""!=this.findCourse||(this.dataPaginate=this.users),this.dataPaginate=[];var e=new RegExp(this.findCourse.toLowerCase()),t=this.users.filter((function(t){return e.test(t.title.toLowerCase())}));this.dataPaginate=t},replaceByDefault:function(e){e.target.src=this.imgDefault},parseText:function(e){return"name"===e?"Nombre":"lastname1"===e?"Apellido Paterno":"lastname2"===e?"Apellido Materno":"birthdate"===e?"Cumpleaños":"district"===e?"Distrito":"town"===e?"Ciudad":"country"===e?"País":"phone"===e?"Telefono":"worry"===e?"Preocupación":"proposal"===e?"Propuesta":"howToHelp"===e?"Como ayudar":"aboutMe"===e?"Sobre mí":"sharedLink"===e?"¿Compartio enlace?":"comeFrom"===e?"Referencia":"createdAt"===e?"Fecha de creación":"n/a"},moreInfo:function(e){var t=Object(M["a"])({},e);delete t._id,delete t.__v,t.createdAt=this.msToDate(t.createdAt),t.birthdate=this.msToDate(t.birthdate),t.comeFrom&&(t.comeFrom='<strong><i style="color: #1363DF;">'.concat(t.comeFrom.name," ").concat(t.comeFrom.lastname1,"</i></strong>")),t.sharedLink=t.sharedLink?'<strong><i style="color: #53BF9D;">SI</i></strong>':'<strong><i style="color: #D61C4E;">NO</i></strong>';var s="";for(var a in t)s+="<strong>".concat(this.parseText(a),":</strong> ").concat(t[a]," <br/>");this.$buefy.dialog.alert({title:"Más información",message:s,confirmText:"¡Bien!"})}},created:function(){this.listUsers()}}),I=N,q=(s("2136"),Object(p["a"])(I,F,T,!1,null,"43a037b0",null)),B=q.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-content"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-2",staticStyle:{padding:"0px"}},[s("aside",{staticClass:"menu"},[s("div",{staticClass:"profile-info"},[s("div",{staticClass:"profile"},[s("figure",{staticClass:"profile-circle"},[s("img",{staticClass:"profile-pic",attrs:{src:e.profile},on:{error:e.replaceByDefault}})])]),s("div",{staticClass:"has-text-centered"},[s("h1",{staticClass:"has-text-weight-bold"},[e._v(e._s(e.name))])])]),s("ul",{staticClass:"menu-list"},[s("li",[s("a",{class:"Post"==e.$route.name?"active":"",staticStyle:{padding:"0.75em"}},[s("b-icon",{staticClass:"iconos",attrs:{pack:"fas",icon:"align-left",size:"is-small"}}),e._v(" Formulario ")],1)]),s("li",[s("a",{class:"Persons"==e.$route.name?"active":"",staticStyle:{padding:"0.75em"},on:{click:function(t){return e.goMenu("Persons")}}},[s("b-icon",{staticClass:"iconos",attrs:{pack:"fas",icon:"chalkboard-teacher",size:"is-small"}}),e._v(" Usuarios ")],1)]),s("li",[s("a",{class:"Admins"==e.$route.name?"active":"",staticStyle:{padding:"0.75em"},on:{click:function(t){return e.goMenu("Admins")}}},[s("b-icon",{staticClass:"iconos",attrs:{pack:"fas",icon:"users",size:"is-small"}}),e._v(" Administradores ")],1)]),s("li",[s("a",{staticStyle:{padding:"0.75em"},on:{click:function(t){return e.logout()}}},[s("b-icon",{staticClass:"iconos",attrs:{pack:"fas",icon:"sign-out-alt",size:"is-small"}}),e._v(" Cerrar sesión ")],1)])]),e._m(0)])]),s("div",{staticClass:"column is-10",style:"height: "+e.window.height+"px; background-color: #f5f5f5; padding:0px;"},[s("router-view")],1)]),s("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},H=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"imagen-footer"},[s("figure",[s("img",{staticClass:"logo",attrs:{src:"img/logo.png"}})])])])}],V=s("5118"),W={data:function(){return{window:{width:0,height:0},name:"",rol:"",menuActive:"",isRole:!1,profile:"",isLoading:!1,isFullPage:!0,imgDefault:"img/user.svg",urlprod:"https://effervescent-cassata-65a1db.netlify.app/api"}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.initData()},mounted:function(){},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{vistaUsuarios:function(){this.$router.push({name:"users"})},logout:function(){var e=this;this.isLoading=!0,this.$cookie.delete("name"),this.$cookie.delete("token"),this.$cookie.delete("rol"),this.$cookie.delete("userId"),Object(V["setTimeout"])((function(){e.isLoading=!1,e.$router.push({path:"/login"})}),1e3)},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},initData:function(){this.name=this.$cookie.get("name"),this.rol=this.$cookie.get("rol")},goMenu:function(e){this.$router.push({name:e})},replaceByDefault:function(e){e.target.src=this.imgDefault}}},G=W,Q=(s("ac56"),Object(p["a"])(G,J,H,!1,null,"b29cd9fc",null)),K=Q.exports,X=(s("5522"),s("c1df"),s("a78e")),Y=s.n(X),Z={validateToke:ee};function ee(){var e=Y.a.get("token");return!!e}a["a"].use(g["a"]);var te=[{path:"/panel",name:"Home",redirect:"/panel/login"},{path:"/panel/login",name:"Login",component:y},{path:"/reset-password",name:"Reset Password",component:E},{path:"/panel/dashboard",name:"Dashboard",component:K,meta:{requiredAuth:!0},children:[{path:"/admins",name:"Admins",component:S,meta:{requiredAuth:!0}},{path:"/persons",name:"Persons",component:B,meta:{requiredAuth:!0}}]}],se=new g["a"]({mode:"history",base:"/",routes:te});se.beforeEach((function(e,t,s){e.meta.requiredAuth?Z.validateToke()?s():se.push("/login"):s()}));var ae=se,ne=s("289d"),ie=(s("5abe"),s("00e7")),re=s.n(ie),oe=s("b828"),ce=s("3a60"),le=s.n(ce);a["a"].use(oe["a"]),a["a"].use(ne["a"],{defaultDayNames:["D","L","M","Mi","J","V","S"],defaultMonthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],defaultFirstDayOfWeek:1,defaultDateFormatter:function(e){return e.toLocaleDateString("es-ES")}}),a["a"].use(re.a),a["a"].use(le.a),a["a"].config.productionTip=!1,new a["a"]({router:ae,render:function(e){return e(b)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";s("9c0c")},6:function(e,t){},"608c":function(e,t,s){},7:function(e,t){},8:function(e,t){},"867a":function(e,t,s){},9:function(e,t){},"9c0c":function(e,t,s){},ac56:function(e,t,s){"use strict";s("867a")},b0a0:function(e,t,s){"use strict";s("452c")},c841:function(e,t,s){},cfcd:function(e,t,s){"use strict";s("608c")}});
//# sourceMappingURL=app.df156d62.js.map